{"version":3,"file":"dist/groucho.min.js","sources":["dist/groucho.js"],"names":["groucho","window","$","getFavoriteTerms","vocab","returnAll","threshold","collectTerms","vocName","i","tid","results","termProp","returnTerms","hasOwnProperty","count","name","filterByCount","topCount","isEmpty","makeArray","obj","arr","id","push","prop","getActivities","config","taxonomyProperty","pages","favThreshold","url","favoriteTerms","jQuery","Zepto","defaults","trackExtent","trackProperties","lastClicked","ttl","addons","setting","userDeferred","Deferred","document","ready","schema","trackOrigins","trackHit","trackClicks","defaultStorage","error","console","log","storage","jStorage","set","value","TTL","get","remove","deleteKey","index","available","storageAvailable","clear","flush","n","Date","getTime","hit","timestamp","location","href","referrer","resolve","dlHelper","DataLayerHelper","dataLayer","trackIds","trackVals","createActivity","fn","click","this","text","userSet","data","keepExisting","userProperty","property","undefined","userGet","propertyName","userProperties","indexOf","replace","group","diff","length","_key","record","returnVals","matchable","RegExp","match","sort","a","b","parseInt","split","keys","user.sessionOrigin","oldKey","version","newKey"],"mappings":"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"}